# ANTLR

A parser generator for the JVM.

+ Made up of declarative rules.
+ Lexer rules are in UPPER CASE.
+ parser rules are in lower case.
+ `@lexer::header { ... }` allows injecting code _before_ the generated lexer
  class.

How to use the generated SimpleLexer.class for a SimpleLexer grammar file?
+ Obtain a CharStream(s): org.antlr.v4.runtime
+ Obtain a SimpleLexer(charstream): Implementation generated by antlr.
+ Obtain a commonTokenStream from the lexer.

## TestRig

```sh
# Output lexed tokens.
java -cp $(CLASSPATH) org.antlr.v4.gui.TestRig \
    my.SampleLexer \
    tokens -tokens \
    files/sample.txt
```

## Advanced Lexical Analysis

+ Fragments - Reusable patterns.
  `fragment TOKENPATTERN : ... ;`
+ Channels - A way to have different token streams.
  - e.g. the `skip` channel.
  `WHITESPACE : ... -> skip ;`
+ Modes - Change lexer context. See the phenomenon known as an Island Language.
  - These "islands" are portions of the source that can be thought of as being
    disconnected from the rest of the code. ex: Comments.
  - Different lexer rules may apply to the same lexeme in different modes.
    ```
    RULE1 : ... ;
    COMMENT : ... -> pushMode(newMode) ;

    mode newMode;

    NEWMODERULE1 : ... ;
    NEWMODERULE2 : ... -> popMode ;
    ```

